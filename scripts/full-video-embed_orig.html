<iframe
  id="WorkVideoPlayer"
  class="video-full_iframe"
  src='{{wf {"path":"featured-video-url","type":"Link"\} }}?controls=0'
  width="100%"
  height="100%"
  frameborder="0"
  allow="autoplay; fullscreen"
  allowfullscreen
></iframe>
<style>
  #WorkVideoPlayer {
    height: calc(100vw / 1.77777778);
  }
</style>
<script src="https://player.vimeo.com/api/player.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    // TODO: Create 'switcher' row of thumbnails.
    // 3 thumbnails with text. onClick -> replace the 'active' video area with clicked item's data
    // The 'active' item bg image and text goes to the clicked item's spot
    // On the thumbnails: a popover that says 'Watch this reel'
    // All state resets

    let isPlaying = false;
    const iframe = document.querySelector('#WorkVideoPlayer');
    let overlay = document.querySelector('.video-full_overlay');
    let playBtn = document.querySelector('#WorkVideoPlayBtn');
    let player = new Vimeo.Player(iframe, { autopause: false });

    player.setVolume(0.25);

    function handleSwitchVideo() {
      // From overlay and clicked element:
      // Get video-url, client-name, client-location, bg-image (from bg property)
      // set overlay items = clicked items
      // set cliecked items = overlay items
    }

    player.on('play', function () {
      console.log('Played the video');
    });

    player.getVideoTitle().then(function (title) {
      console.log('title:', title);
    });

    overlay.addEventListener('click', function () {
      if (isPlaying) {
        overlay.style.opacity = '1';
        player.pause();
        isPlaying = false;
      } else {
        overlay.style.opacity = '0';
        player.play();
        isPlaying = true;
      }
    });
  });
</script>
